<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SPLTV Interaktif</title>

<style>
   .footer-guru-container {
  background: rgba(255, 255, 255, 0.3);
  padding: 15px 30px;
  border-radius: 16px;
  max-width: 320px;
  margin: 30px auto 40px; /* tengah bawah */
  text-align: center;
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  box-shadow: 0 8px 20px rgba(108, 92, 231, 0.15);
  user-select: none;
}

.footer-guru {
  font-style: italic;
  font-weight: 600;
  color: #6c5ce7;
  font-size: 1.1rem;
  letter-spacing: 0.05em;
}

.header-container {
  background: rgba(255, 255, 255, 0.3); /* putih transparan 30% */
  padding: 20px 40px;
  border-radius: 20px;
  display: inline-block;
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  box-shadow: 0 0 15px 5px rgba(108, 92, 231, 0.4); /* glow ungu lembut */
  transition: box-shadow 0.3s ease;
}

.header-container:hover {
  box-shadow: 0 0 25px 10px rgba(108, 92, 231, 0.7); /* lebih terang saat hover */
}

*{
  box-sizing:border-box;
  font-family:'Segoe UI',sans-serif
}
body{
  margin:0;
  background:linear-gradient(135deg,#cfd9ff,#ffd6e8);
  min-height:100vh;
}

/* ===== HEADER ===== */
.header{
  text-align:center;
  padding:40px 20px 70px;
}
.header img{
  width:90px;
  margin-bottom:12px;
}

.header h1{
  margin:0;
  color:#2c3e50;
}
.header h2{
  margin:4px 0;
  font-weight:400;
  font-size:1rem;
  color:#555;
}
.header h3{
  margin-top:10px;
  color:#6c5ce7;
}

/* ===== NAVBAR ===== */
.header {
  padding: 40px 20px 30px; /* kurangin jarak bawah */
}

.nav {
  margin-top: 2px; /* kurangin jarak atas */
}


.navbar-container {
  display: flex;
  justify-content: center;
  padding: 20px;
  border-radius: 30px;
  position: relative;
  background: #f0f0f0; /* soft neutral bg */
  box-shadow: 0 0 0 rgba(0,0,0,0); /* default no glow */
  transition: box-shadow 0.4s ease;
}

/* Glow effect on container, will update by JS */

/* Navbar styling */
.navbar {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  gap: 10px;
  margin-top: 0;
  position: relative;
  z-index: 10;
}

.navbar button {
  border: none;
  padding: 12px 18px;
  border-radius: 30px;
  font-size: 0.9rem;
  color: #fff;
  cursor: pointer;
  box-shadow: 0 6px 15px rgba(0,0,0,0.1);
  position: relative;
  overflow: hidden;
  transition: color 0.3s ease;
}

/* Soft pastel colors for buttons */
.materi {
  background: #a79bfc; /* soft purple */
}
.contoh {
  background: #55d7b1; /* soft teal */
}
.simulator {
  background: #ffbc80; /* soft orange */
}
.kuis {
  background: #f78ca0; /* soft pink */
}
.duel {
  background: #ff7f7f; /* soft red */
}
.info {
  background: #81aaff; /* soft blue */
}

/* Button active scale + glow effect */
.navbar button:active {
  transform: scale(0.95);
}

/* Glow pulse in center on click */
.navbar button::after {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  background: rgba(255, 255, 255, 0.4);
  border-radius: 50%;
  transform: translate(-50%, -50%);
  opacity: 0;
  transition: width 0.3s ease, height 0.3s ease, opacity 0.5s ease;
  pointer-events: none;
  z-index: 5;
}

/* Animasi glow on click */
.navbar button.clicked::after {
  width: 120%;
  height: 120%;
  opacity: 1;
  transition: none;
  animation: pulseGlow 0.6s forwards;
}

@keyframes pulseGlow {
  0% {
    width: 0;
    height: 0;
    opacity: 0.6;
  }
  100% {
    width: 120%;
    height: 120%;
    opacity: 0;
  }
}

/* ===== CARD ===== */
.card {
  background: rgba(255, 255, 255, 0.85); /* putih semi transparan */
  margin: 25px;
  padding: 20px;
  border-radius: 22px;
  box-shadow: 0 12px 30px rgba(108, 92, 231, 0.2);
  backdrop-filter: blur(8px); /* efek blur buat background di belakang */
  -webkit-backdrop-filter: blur(8px);
  border: 1px solid rgba(108, 92, 231, 0.15);
  transition: box-shadow 0.3s ease;
}

.card:hover {
  box-shadow: 0 18px 45px rgba(108, 92, 231, 0.4);
}

.card h2 {
  margin-top: 0;
  color: #6c5ce7;
  text-shadow: 0 1px 2px rgba(108, 92, 231, 0.4);
}

.anggota-list {
  background: rgba(255, 255, 255, 0.8);
  padding: 20px 30px;
  border-radius: 30px / 80px;
  box-shadow: 0 6px 15px rgba(216, 111, 95, 0.15);
  font-weight: 600;
  color: #6c5ce7;
  font-size: 1.1rem;
  line-height: 1.6;
}

.anggota-list ul {
  list-style: none;
  padding-left: 0;
  margin-top: 12px;
}

.anggota-list ul li {
  padding: 8px 0;
  border-bottom: 1px solid rgba(108, 92, 231, 0.15);
  position: relative;
  padding-left: 25px;
}

.anggota-list ul li:last-child {
  border-bottom: none;
}

.anggota-list ul li::before {
  content: "üë§"; /* ikon kecil kepala */
  position: absolute;
  left: 0;
  top: 50%;
  transform: translateY(-50%);
}

.box, .subbox {
  background: rgba(255, 255, 255, 0.7);
  padding: 18px 30px;
  border-radius: 50px / 100px;
  margin-bottom: 14px;
  border-left: 6px solid #d86f5f; /* ganti ke peach warm */
  box-shadow:
    0 4px 8px rgba(216, 111, 95, 0.1),
    0 8px 15px rgba(216, 111, 95, 0.15),
    0 15px 25px rgba(216, 111, 95, 0.2);
  backdrop-filter: saturate(180%) blur(12px);
  -webkit-backdrop-filter: saturate(180%) blur(12px);
  transition: box-shadow 0.3s ease, background-color 0.3s ease, transform 0.3s ease;
  cursor: default;
}

.subbox.active {
  background: rgba(255, 255, 255, 0.95);
  box-shadow:
    0 0 6px 2px rgba(216, 111, 95, 0.3),
    0 0 12px 4px rgba(216, 111, 95, 0.15);
  transition: box-shadow 0.3s ease, background-color 0.3s ease;
  transform: translateY(-2px);
}


.subbox.active {
  background: rgba(255, 255, 255, 1);
  box-shadow:
    0 0 6px 2px #d86f5f,
    0 0 12px 4px rgba(216, 111, 95, 0.3);
  transition: box-shadow 0.3s ease, background-color 0.3s ease, transform 0.3s ease;
  transform: translateY(-3px);
}


.duel-box{
  background:linear-gradient(135deg,#ff7675,#d63031);
  color:#fff;
  padding:16px;
  border-radius:16px;
  text-align:center;
}


/* ===== FORM ===== */
input {
  width: 100%;
  padding: 12px 14px;
  border-radius: 12px;
  border: 1.5px solid #cbd5e1; /* soft grey-blue */
  margin-bottom: 12px;
  font-size: 1rem;
  font-weight: 500;
  color: #344054;
  background: rgba(255, 255, 255, 0.9);
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
  transition: border-color 0.3s ease, box-shadow 0.3s ease;
}

input:focus {
  border-color: #7c3aed; /* purple accent */
  box-shadow: 0 0 8px rgba(124, 58, 237, 0.4);
  outline: none;
}

.row {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 12px;
  margin-bottom: 16px;
}

.btn {
  width: 100%;
  border: none;
  padding: 14px 0;
  border-radius: 30px;
  background: linear-gradient(135deg, #7c3aed, #a78bfa); /* soft purple gradient */
  color: #fff;
  font-size: 1.1rem;
  font-weight: 600;
  cursor: pointer;
  box-shadow:
    0 4px 12px rgba(124, 58, 237, 0.5),
    inset 0 -3px 8px rgba(255, 255, 255, 0.25);
  transition: background 0.4s ease, box-shadow 0.3s ease, transform 0.15s ease;
}

.btn:hover {
  background: linear-gradient(135deg, #9d7ffb, #c7b8ff);
  box-shadow:
    0 6px 18px rgba(124, 58, 237, 0.7),
    inset 0 -5px 10px rgba(255, 255, 255, 0.35);
  transform: translateY(-2px);
}

.btn:active {
  transform: scale(0.95);
  box-shadow:
    0 2px 8px rgba(124, 58, 237, 0.4),
    inset 0 -2px 6px rgba(255, 255, 255, 0.2);
}

/* Result box */
.result {
  font-size: 1.2rem;
  background: linear-gradient(135deg, #f3e8ff, #e0d7ff);
  color: #4b3f72;
  text-align: center;
  padding: 18px 20px;
  border-radius: 25px;
  margin-bottom: 20px;
  position: relative;
  box-shadow:
    0 6px 15px rgba(124, 58, 237, 0.15);
  user-select: none;
  font-weight: 600;
  letter-spacing: 0.02em;
  transition: box-shadow 0.3s ease;
}

.result:hover {
  box-shadow:
    0 8px 25px rgba(124, 58, 237, 0.3);
}



.kuis-header{
  display:flex;
  justify-content:space-between;
  margin:14px 0;
}

.level{
  display:flex;
  gap:10px;
  justify-content:center;
  margin-bottom:12px;
}

.level-btn{
  padding:8px 14px;
  border:none;
  border-radius:20px;
  background:#e0f0ff;
  color:#333;
  cursor:pointer;
  opacity:.5;
  transition:.3s;
}

.level-btn.aktif{
  opacity:1;
  background:#ff9acb;
  color:#fff;
}

.kuis-header{
  display:flex;
  justify-content:space-between;
  margin:10px 0;
}

.timer-box,.score-box{
  background:#f0f8ff;
  padding:6px 12px;
  border-radius:12px;
}

.soal-box{
  background:#ffeaf3;
  padding:14px;
  border-radius:14px;
  margin-bottom:10px;
}

.blinebox button{
  width:100%;
  margin:6px 0;
  padding:10px;
  border:none;
  border-radius:14px;
  background:#d9f1ff;
  cursor:pointer;
}

.result.benar{color:#2ecc71;}
.result.salah{color:#e74c3c;}

.result{
  margin-top:14px;
  font-size:1.2rem;
  font-weight:700;
  border-radius:16px;
  padding:12px;
  text-align:center;
}

.benar{
  background:#55efc4;
  color:#065f46;
}

.salah{
  background:#fab1a0;
  color:#7c2d12;
}
.level{
  display:flex;
  gap:10px;
  margin-bottom:12px;
}

.level button{
  flex:1;
  padding:10px;
  border-radius:14px;
  border:none;
  font-weight:600;
  cursor:pointer;
  background:#dfe6e9;
  transition:.2s;
}

.level button:hover{
  background:#6c5ce7;
  color:#fff;
}
.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.5);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:9999;
}
.modal-box{
  background:#fff;
  padding:20px;
  border-radius:16px;
  width:85%;
  max-width:320px;
  text-align:center;
  animation:zoom .3s ease;
}
.modal-avatar{
  font-size:48px;
}
.modal-box button{
  margin-top:12px;
  padding:8px 20px;
  border:none;
  border-radius:20px;
  background:#4CAF50;
  color:white;
  font-size:16px;
}
@keyframes zoom{
  from{transform:scale(.7);opacity:0}
  to{transform:scale(1);opacity:1}
}


/* ===== EMOJI EFFECT ===== */
.emoji-img{
  position: fixed;
  width: 28px;
  height: 28px;
  pointer-events: none;
  z-index: 9999;
  animation: floatUp 2.5s ease-out forwards;
}

@keyframes floatUp{
  0%{
    transform: translateY(0) scale(1);
    opacity:1;
  }
  100%{
    transform: translateY(-120px) scale(1.5);
    opacity:0;
  }
}

/////duel////

#duel {
  max-width: 480px;
  margin: auto;
  padding: 20px;
  background: linear-gradient(135deg, #f8bbd0, #b3e5fc);
  border-radius: 12px;
  box-shadow: 0 4px 15px rgba(0,0,0,0.1);
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

#duel h2 {
  text-align: center;
  margin-bottom: 15px;
  color: #880e4f;
}

.nama-kelompok {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  margin-bottom: 15px;
  flex-wrap: wrap;
}

.nama-kelompok input {
  width: 130px;
  padding: 8px 12px;
  border-radius: 8px;
  border: 1.5px solid #ccc;
  font-size: 16px;
  transition: border-color 0.3s ease;
}

.nama-kelompok input:focus {
  border-color: #ec407a;
  outline: none;
}

.nama-kelompok .vs {
  font-weight: 700;
  font-size: 20px;
  color: #555;
  user-select: none;
}

.nama-kelompok button.btn {
  background: linear-gradient(45deg, #f48fb1, #82b1ff);
  border: none;
  color: white;
  padding: 10px 22px;
  border-radius: 12px;
  cursor: pointer;
  font-weight: 700;
  font-size: 16px;
  box-shadow: 0 5px 10px rgba(244, 143, 177, 0.5);
  transition: background 0.3s ease;
  flex-shrink: 0;
}

.nama-kelompok button.btn:hover {
  background: linear-gradient(45deg, #ec407a, #448aff);
  box-shadow: 0 7px 14px rgba(236, 64, 122, 0.7);
}

.score-board {
  display: flex;
  justify-content: center;
  gap: 20px;
  margin-top: 25px;
}

.score-box {
  padding: 15px 25px;
  border-radius: 14px;
  text-align: center;
  font-weight: 700;
  font-size: 24px;
  width: 110px;
  user-select: none;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

.score-box.red {
  background: #f8d7da; /* soft red */
  color: #b71c1c;
  border: 1.5px solid #f5c6cb;
}

.score-box.blue {
  background: #d1e7fd; /* soft blue */
  color: #0d47a1;
  border: 1.5px solid #90caf9;
}

.score-box small {
  font-weight: 500;
  font-size: 14px;
  color: inherit;
  opacity: 0.8;
  margin-top: 6px;
  display: block;
}

/* r==== SECTION ===== */
.section{display:none}
.section.active{display:block}
</style>
</head>

<body>

<!-- ===== HEADER ===== -->
<div class="header">
  <div class="header-container">
    <img src="logosmkmu.html" alt="Logo Sekolah">
    <h2>SMK MUHAMMADIYAH LOA JANAN</h2>
    <h2>Matematika</h2>
     <h1>Sistem Persamaan Linear Tiga Variabel</h1>
    
  </div>
</div>


<!-- ===== NAVBAR ===== -->
<div class="navbar-container">
  <div class="navbar">
     <button class="materi" onclick="show('materi')">üìò Materi</button>
  <button class="contoh" onclick="show('contoh')">üìù Contoh</button>
  <button class="simulator" onclick="show('simulator')">üéÆ Simulator</button>
  <button class="kuis" onclick="show('kuis')">üéÅ Kuis</button>
  <button class="duel" onclick="show('duel')">‚öîÔ∏è Duel</button>
  <button class="info" onclick="show('info')">‚ÑπÔ∏è Info</button>
  </div>
</div>


<!-- ===== MATERI ===== -->
<div class="card section active" id="materi">
<h2>üìò Materi SPLTV</h2>
<div class="box">
SPLTV adalah sistem persamaan linear yang memiliki <b>tiga variabel</b>
yaitu x, y, dan z serta <b>tiga persamaan</b>.
<br><br>
Bentuk umum:
<br>
a‚ÇÅx + b‚ÇÅy + c‚ÇÅz = d‚ÇÅ<br>
a‚ÇÇx + b‚ÇÇy + c‚ÇÇz = d‚ÇÇ<br>
a‚ÇÉx + b‚ÇÉy + c‚ÇÉz = d‚ÇÉ
<br><br>
<b>Tujuan SPLTV</b> adalah mencari nilai x, y, dan z yang memenuhi ketiga persamaan
tersebut secara bersamaan.

</div>
</div>

<!-- ===== CONTOH ===== -->
<div class="card section" id="contoh">
<h2>üìù Contoh Soal</h2>
<div class="subbox">
<b>Contoh SPLTV:</b><br>
(1) 2x + y ‚àí z = 8<br>
(2) x + 2y + z = 9<br>
(3) x ‚àí y + 2z = 3
</div>

<hr style="margin:14px 0;opacity:.3">
<div class="subbox">
<b>Metode Eliminasi</b><br>
Langkah pertama adalah menghilangkan salah satu variabel.

<br><br>
<b>Eliminasi variabel z dari persamaan (1) dan (2):</b><br>
(1) 2x + y ‚àí z = 8<br>
(2) x + 2y + z = 9<br>
‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî +<br>
3x + 3y = 17 ‚Üí (4)
</div>

<div class="subbox">
<br><br>
<b>Eliminasi variabel z dari persamaan (1) dan (3):</b><br>
(1) 2x + y ‚àí z = 8<br>
(3) x ‚àí y + 2z = 3 ‚Üí dikali 1<br>
‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî<br>
3x = 11 ‚Üí x = 2 ‚Üí (5)

<hr style="margin:14px 0;opacity:.3">
</div>

<div class="subbox">
<b>Metode Substitusi</b><br>
Nilai x = 2 disubstitusikan ke persamaan (4):

<br><br>
3x + 3y = 17<br>
3(2) + 3y = 17<br>
6 + 3y = 17<br>
3y = 11 ‚Üí y = 3
</div>

<div class="subbox">
<br><br>
Substitusikan x dan y ke persamaan (1):

<br>
2x + y ‚àí z = 8<br>
2(2) + 3 ‚àí z = 8<br>
7 ‚àí z = 8 ‚Üí z = 2

<hr style="margin:14px 0;opacity:.3">
</div>

<div class="subbox">
<b>Kesimpulan:</b><br>
x = 2<br>
y = 3<br>
z = 2

<br><br>
Dengan demikian, solusi SPLTV diperoleh menggunakan
<b>kombinasi metode eliminasi dan substitusi</b>.
</div>
</div>

<!-- ===== SIMULATOR ===== -->
<div class="card section" id="simulator">
<h2>üéÆ Simulator SPLTV</h2>

<div class="result" id="hasil">Masukkan koefisien lalu klik hitung</div>

    <div class="row">
      <input id="a1" placeholder="a1">
      <input id="b1" placeholder="b1">
      <input id="c1" placeholder="c1">
      <input id="d1" placeholder="d1">
    </div>
    <div class="row">
      <input id="a2" placeholder="a2">
      <input id="b2" placeholder="b2">
      <input id="c2" placeholder="c2">
      <input id="d2" placeholder="d2">
    </div>
    <div class="row">
      <input id="a3" placeholder="a3">
      <input id="b3" placeholder="b3">
      <input id="c3" placeholder="c3">
      <input id="d3" placeholder="d3">
    </div>

    <button class="btn" onclick="hitung()">Hitung</button>

<hr style="margin:16px 0; opacity:0.3">
<div class="result" id="hasilEkspresi">
  Masukkan persamaan baru
</div>

<div class="row">
  <input id="px" placeholder="koef x (mis. 3)">
  <input id="py" placeholder="koef y (mis. 4)">
  <input id="pz" placeholder="koef z (mis. 5)">
</div>

<button class="btn" onclick="hitungEkspresi()">
  Hitung Persamaan Baru
</button>
</div>

<!-- ===== KUIS ===== -->
<section id="kuis" class="section">
  <div class="card">

    <div class="level">
      <button class="level-btn" onclick="setLevel('mudah',this)">Mudah</button>
      <button class="level-btn" onclick="setLevel('sedang',this)">Sedang</button>
      <button class="level-btn" onclick="setLevel('sulit',this)">Sulit</button>
    </div>

    <div class="kuis-header">
      <div class="timer-box">‚è± <span id="timer">15</span>s</div>
      <div class="score-box">‚≠ê <span id="score">0</span></div>
    </div>

    <div class="soal-box" id="soal">
      Pilih level untuk mulai
    </div>

    <div class="blinebox" id="jawabanBox"></div>
    <div id="hasilKuis" class="result"></div>

  </div>
</section>


<!-- ===== DUEL ===== -->
<div class="card section" id="duel">
  <h2>‚öîÔ∏è Mode Duel Pilihan Ganda</h2>

  <div class="score-board" style="margin-bottom: 15px;">
    <div class="score-box red">
      <span id="scoreA">0</span><br>
      <small id="nameA">Kelompok A</small>
    </div>
    <div class="score-box blue">
      <span id="scoreB">0</span><br>
      <small id="nameB">Kelompok B</small>
    </div>
  </div>

  <div class="nama-kelompok">
    <input type="text" id="duelP1" placeholder="Kelompok A" maxlength="15">
    <div class="vs">VS</div>
    <input type="text" id="duelP2" placeholder="Kelompok B" maxlength="15">
    <button class="btn" onclick="duelMulai()">Mulai Duel</button>
  </div>

  <div id="duelInfo" style="margin-top:15px; font-weight:bold;"></div>

  <div id="duelSoal" style="margin:20px 0; font-size:18px;"></div>

  <div id="duelOpsi"></div>

  <div id="duelHasil" style="margin-top:15px; font-weight:bold; min-height: 24px;"></div>
</div>



<!-- ===== INFO ===== -->
<div class="card section" id="info">
  <h2>‚ÑπÔ∏è Info Kelompok</h2>
  <div class="box anggota-list">
    <b>Nama Anggota:</b><br>
    <ul>
      <li>Amelia Novita Agustin</li>
      <li>Desi Dwi Anggraini</li>
      <li>Dina Anggraini</li>
      <li>Madinatul Fatimah</li>
    </ul>
    <b>Kelas: XII TKJ 1</b><br>
  </div>
</div>

<div class="footer-guru-container">
  <p class="footer-guru">Guru Pengampu: Lina Andriani, S.Pd</p>
</div>

<script>
    document.querySelectorAll('.subbox').forEach(el => {
  el.addEventListener('click', () => {
    // hapus semua active dulu biar cuma satu yang nyala
    document.querySelectorAll('.subbox.active').forEach(activeEl => {
      activeEl.classList.remove('active');
    });
    // kasih class active ke yang diklik
    el.classList.add('active');
  });
});

///nav bar/////
    const navbarContainer = document.querySelector('.navbar-container');
const buttons = document.querySelectorAll('.navbar button');

const colorMap = {
  materi: '#a79bfc',
  contoh: '#55d7b1',
  simulator: '#ffbc80',
  kuis: '#f78ca0',
  duel: '#ff7f7f',
  info: '#81aaff'
};

buttons.forEach(btn => {
  btn.addEventListener('click', () => {
    // Remove 'clicked' dari semua
    buttons.forEach(b => b.classList.remove('clicked'));
    // Add class clicked ke tombol yang ditekan
    btn.classList.add('clicked');

    // Ganti glow container sesuai warna tombol
    const color = colorMap[btn.classList[0]] || '#ccc';
    navbarContainer.style.boxShadow = `0 0 20px 6px ${color}88, 0 0 40px 12px ${color}44`;
    
    // Hapus glow container setelah 1 detik supaya tidak terus nyala
    clearTimeout(navbarContainer.glowTimeout);
    navbarContainer.glowTimeout = setTimeout(() => {
      navbarContainer.style.boxShadow = '0 0 0 rgba(0,0,0,0)';
    }, 1000);
  });
});

// ================== NAVIGASI ==================
function show(id){
  document.querySelectorAll('.section')
    .forEach(s => s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}

// ================== SIMULATOR SPLTV ==================
function hitung() {
  const a1 = +document.getElementById("a1").value;
  const b1 = +document.getElementById("b1").value;
  const c1 = +document.getElementById("c1").value;
  const d1 = +document.getElementById("d1").value;

  const a2 = +document.getElementById("a2").value;
  const b2 = +document.getElementById("b2").value;
  const c2 = +document.getElementById("c2").value;
  const d2 = +document.getElementById("d2").value;

  const a3 = +document.getElementById("a3").value;
  const b3 = +document.getElementById("b3").value;
  const c3 = +document.getElementById("c3").value;
  const d3 = +document.getElementById("d3").value;

  const D = a1*(b2*c3-b3*c2) - b1*(a2*c3-a3*c2) + c1*(a2*b3-a3*b2);
  if(D === 0){
    hasil.innerHTML = "Tidak ada solusi unik";
    return;
  }

  const Dx = d1*(b2*c3-b3*c2) - b1*(d2*c3-d3*c2) + c1*(d2*b3-d3*b2);
  const Dy = a1*(d2*c3-d3*c2) - d1*(a2*c3-a3*c2) + c1*(a2*d3-a3*d2);
  const Dz = a1*(b2*d3-b3*d2) - b1*(a2*d3-a3*d2) + d1*(a2*b3-a3*b2);

  window.xVal = Dx / D;
  window.yVal = Dy / D;
  window.zVal = Dz / D;

  hasil.innerHTML = `
    x = ${xVal.toFixed(2)}<br>
    y = ${yVal.toFixed(2)}<br>
    z = ${zVal.toFixed(2)}
  `;
}


function hitungEkspresi(){
  if(xVal === undefined){
    hasilEkspresi.innerHTML = "Hitung SPLTV dulu ya";
    return;
  }
  const h = px.value*xVal + py.value*yVal + pz.value*zVal;
  hasilEkspresi.innerHTML = `Hasil = ${h.toFixed(2)}`;
}

// ================== KUIS ==================
const scoreBox=document.getElementById("score");
const timerBox=document.getElementById("timer");
const soal=document.getElementById("soal");
const jawabanBox=document.getElementById("jawabanBox");
const hasilKuis=document.getElementById("hasilKuis");

let score=0,waktu=15,timer;
let soalAktif=[],index=0,levelAktif="";

// BANK SOAL
const bankSoal = {
  mudah: [
    { soal:"Jika x=1,y=2,z=3. Hitung x+y+z", opsi:[5,6,7,8], jawaban:6 },
    { soal:"Jika x=2,y=1,z=1. Hitung 2x+y+z", opsi:[5,6,7,8], jawaban:6 },
    { soal:"Jika x=1,y=1,z=2. Hitung x+2y+z", opsi:[4,5,6,7], jawaban:5 },
    { soal:"Jika x=2,y=2,z=1. Hitung x+y+z", opsi:[4,5,6,7], jawaban:5 },
    { soal:"Jika x=3,y=1,z=1. Hitung x+y+z", opsi:[4,5,6,7], jawaban:5 }
  ],

  sedang: [
    { soal:"x=1,y=2,z=3. Hitung 2x+2y+z", opsi:[8,9,10,11], jawaban:9 },
    { soal:"x=2,y=1,z=2. Hitung 3x+y+z", opsi:[8,9,10,11], jawaban:9 },
    { soal:"x=1,y=3,z=2. Hitung x+2y+2z", opsi:[9,10,11,12], jawaban:11 },
    { soal:"x=2,y=2,z=1. Hitung 2x+y+2z", opsi:[7,8,9,10], jawaban:8 },
    { soal:"x=3,y=1,z=2. Hitung x+3y+z", opsi:[7,8,9,10], jawaban:8 }
  ],

  sulit: [
  { soal: "x=2, y=1, z=3. Hitung 2x + y + z", opsi: [7, 8, 9, 10], jawaban: 8 },
  { soal: "x=3, y=2, z=1. Hitung 3x + y - z", opsi: [10, 11, 12, 13], jawaban: 11 }, // ubah soal supaya minus dihilangin: pakai +
  { soal: "x=1, y=2, z=3. Hitung x + 2y + 2z", opsi: [7, 8, 9, 10], jawaban: 11 },
  { soal: "x=2, y=1, z=2. Hitung 4x + y + z", opsi: [7, 8, 9, 10], jawaban: 11 },
  { soal: "x=2, y=3, z=1. Hitung 2x + 3y + z", opsi: [4, 5, 6, 7], jawaban: 13 }
  ]
};



function setLevel(lv,btn){
  levelAktif=lv;
  soalAktif=[...bankSoal[lv]];
  index=0; score=0;
  scoreBox.innerText=score;

  document.querySelectorAll(".level-btn")
    .forEach(b=>b.classList.remove("aktif"));
  btn.classList.add("aktif");

  nextSoal();
}

function nextSoal(){
  if(index>=soalAktif.length){
    soal.innerText="üéâ Selesaiü•≥";
    jawabanBox.innerHTML="";
    return;
  }

  clearInterval(timer);
  waktu=15;
  timerBox.innerText=waktu;
  hasilKuis.innerText="";

  const s=soalAktif[index++];
  soal.innerText=s.soal;
  jawabanBox.innerHTML="";

  s.opsi.forEach(o=>{
  const b=document.createElement("button");
  b.innerText=o;
  b.onclick=()=>cek(o,s.jawaban); // ‚Üê o = p, s.jawaban = j
  jawabanBox.appendChild(b);
});

  timer=setInterval(()=>{
    waktu--;
    timerBox.innerText=waktu;
    if(waktu<=0){
      clearInterval(timer);
      hasilKuis.className="result salah";
      hasilKuis.innerText="‚è∞ Waktu habis!";
      setTimeout(nextSoal,1000);
    }
  },1000);
}

function cek(p,j){
  clearInterval(timer);

  if(p===j){
    hasilKuis.className="result benar";
    hasilKuis.innerText="BENAR üî•";
    spawnEmoji("https://twemoji.maxcdn.com/v/latest/svg/1f973.svg",15);
    score++;
  }else{
    hasilKuis.className="result salah";
    hasilKuis.innerText="SALAH üòÖ";
    spawnEmoji("https://twemoji.maxcdn.com/v/latest/svg/1f62d.svg",10);
  }

  scoreBox.innerText=score;
  setTimeout(nextSoal,1000);
}



// ================== EMOJI ==================
function spawnEmoji(url,jumlah){
  const w = window.innerWidth;
  const h = window.innerHeight;

  for(let i=0;i<jumlah;i++){
    const e = document.createElement("img");
    e.src = url;
    e.className = "emoji-img";

    e.style.left = Math.random() * w + "px";
    e.style.top  = Math.random() * h + "px";

    document.body.appendChild(e);
    setTimeout(()=>e.remove(),2500);
  }
}



// ================== DUEL ==================

const duelP1 = document.getElementById("duelP1");
const duelP2 = document.getElementById("duelP2");
const duelSoal = document.getElementById("duelSoal");
const duelOpsi = document.getElementById("duelOpsi");
const duelInfo = document.getElementById("duelInfo");
const duelHasil = document.getElementById("duelHasil");
const scoreA = document.getElementById("scoreA");
const scoreB = document.getElementById("scoreB");

let duelPemain = [], duelSkor = [0, 0], duelGiliran = 0, duelSoalAktif = null;

const bankSoalDuel = [
  {
    soal: "SPLTV adalah ‚Ä¶",
    opsi: [
      "Kumpulan tiga persamaan linear dengan satu variabel",
      "Kumpulan dua persamaan linear dengan tiga variabel",
      "Kumpulan tiga persamaan linear dengan tiga variabel",
      "Persamaan non-linear dengan tiga variabel"
    ],
    jawaban: 2
  },
  {
    soal: "Variabel pada SPLTV biasanya dilambangkan dengan ‚Ä¶",
    opsi: ["x, y, z", "a, b, c", "1, 2, 3", "p, q, r"],
    jawaban: 0
  },
  {
    soal: "Pangkat variabel pada SPLTV adalah ‚Ä¶",
    opsi: ["Satu", "Dua", "Tiga", "Nol"],
    jawaban: 0
  },
  {
    soal: "Solusi SPLTV adalah ‚Ä¶",
    opsi: [
      "Pasangan nilai x, y, z yang memenuhi ketiga persamaan",
      "Nilai x, y, atau z yang terbesar",
      "Hanya nilai x yang benar",
      "Pasangan nilai yang memenuhi salah satu persamaan"
    ],
    jawaban: 0
  },
  {
    soal: "SPLTV digunakan untuk menyelesaikan masalah dengan berapa variabel?",
    opsi: ["Satu", "Dua", "Tiga", "Empat"],
    jawaban: 2
  },

  // tambahan soal baru
  {
    soal: "SPLTV biasanya digunakan untuk menyelesaikan ‚Ä¶",
    opsi: [
      "Masalah dengan satu variabel",
      "Masalah dengan tiga variabel",
      "Masalah non-linear",
      "Masalah tanpa variabel"
    ],
    jawaban: 1
  },
  {
    soal: "Metode eliminasi pada SPLTV digunakan untuk ‚Ä¶",
    opsi: [
      "Menyelesaikan persamaan kuadrat",
      "Menghilangkan salah satu variabel",
      "Mengganti variabel dengan konstanta",
      "Menghitung nilai mutlak"
    ],
    jawaban: 1
  },
  {
    soal: "Jika x=2, y=1, z=3, maka nilai dari x + y + z adalah ‚Ä¶",
    opsi: ["6", "5", "7", "8"],
    jawaban: 0
  },
  {
    soal: "SPLTV merupakan singkatan dari ‚Ä¶",
    opsi: [
      "Sistem Persamaan Linear Tiga Variabel",
      "Sistem Persamaan Linear Tiga Variabel Kuadrat",
      "Sistem Persamaan Logaritma Tiga Variabel",
      "Sistem Persamaan Linear Dua Variabel"
    ],
    jawaban: 0
  },
  {
    soal: "Koefisien dalam persamaan linear adalah ‚Ä¶",
    opsi: [
      "Nilai variabel",
      "Konstanta pengali variabel",
      "Hasil penjumlahan variabel",
      "Konstanta bebas"
    ],
    jawaban: 1
  }
];

function duelMulai() {
  duelPemain = [
    duelP1.value.trim() || "Kelompok A",
    duelP2.value.trim() || "Kelompok B"
  ];

  // update nama kelompok di skor
  document.getElementById("nameA").innerText = duelPemain[0];
  document.getElementById("nameB").innerText = duelPemain[1];

  duelSkor = [0, 0];
  duelGiliran = 0;
  duelHasil.innerText = "";
  scoreA.innerText = "0";
  scoreB.innerText = "0";
  duelInfo.innerText = `Giliran: ${duelPemain[duelGiliran]}`;
  duelSoalBaru();
}

function duelSoalBaru() {
  duelSoalAktif = bankSoalDuel[Math.floor(Math.random() * bankSoalDuel.length)];
  duelSoal.innerText = duelSoalAktif.soal;
  duelOpsi.innerHTML = "";

  duelSoalAktif.opsi.forEach((o, i) => {
    const btn = document.createElement("button");
    btn.className = "btn";
    btn.innerText = o;
    btn.style.margin = "5px";
    btn.onclick = () => duelJawab(i);
    duelOpsi.appendChild(btn);
  });
}

function duelJawab(pilihan) {
  if (pilihan === duelSoalAktif.jawaban) {
    duelSkor[duelGiliran]++;
    duelHasil.innerText = "BENAR üéâ";
  } else {
    duelHasil.innerText = "SALAH üòÖ giliran pindah";
    duelGiliran = duelGiliran === 0 ? 1 : 0;
  }

  scoreA.innerText = duelSkor[0];
  scoreB.innerText = duelSkor[1];
  duelInfo.innerText = `Giliran: ${duelPemain[duelGiliran]}`;

  if (duelSkor[duelGiliran] >= 5) {
    alert(`üèÜ ${duelPemain[duelGiliran]} MENANG!`);
    duelHasil.innerText = "";
    duelOpsi.innerHTML = "";
    duelSoal.innerText = "Duel selesai.";
    return;
  }

  setTimeout(() => {
    duelHasil.innerText = "";
    duelSoalBaru();
  }, 1000);
}
</script>